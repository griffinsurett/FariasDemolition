---
import Form from "@/components/Form/Form.astro";
import TextInput from "@/components/Form/Inputs/TextInput.astro";
import Textarea from "@/components/Form/Inputs/Textarea.astro";
import Select from "@/components/Form/Inputs/Select.astro";

const {
  inputClasses = "border border-light-secondary rounded-md transition-default p-2 w-full bg-light-primary text-dark-secondary placeholder:text-dark-secondary outline-none",
  wrapperClasses = "mb-2",
  labelClass = "block h6 text-dark-secondary mb-2",
} = Astro.props;

const formAction = "https://formspree.io/f/manqygwr";

const doubleInputs = "flex flex-col lg:flex-row lg:space-x-6 space-y-3";

// dropdown options for “How Did You Find Us?”
const sourceOptions = [
  { value: "google", label: "Google Search" },
  { value: "maps", label: "Google Maps" },
  { value: "yelp", label: "Yelp" },
  { value: "instagram", label: "Instagram" },
  { value: "facebook", label: "Facebook" },
  { value: "referral", label: "Referral" },
  { value: "other", label: "Other" },
];
---

<Form
  name="contact-form"
  formClass="w-full space-y-3"
  enableSuccessBanner={true}
  action={formAction}
  labelClass
  successBannerMessage="Thank you for your message. We will get in touch with you shortly."
  successBannerClass="p-2 bg-primary text-bg border border-dark-secondary bg-light-opacity"
>
  <!-- Hidden input for current page -->
  <input
    type="hidden"
    name="Page-of-Submission"
    value={Astro.url?.pathname || "/"}
  />

  <!-- Row 1: First / Last -->
  <div class={doubleInputs}>
    <div class="w-full lg:w-1/2">
      <TextInput
        label="First Name"
        name="firstName"
        placeholder="First Name"
        labelClass={labelClass}
        inputClass={inputClasses}
        wrapperClass={wrapperClasses}
      />
    </div>
    <div class="w-full lg:w-1/2">
      <TextInput
        label="Last Name"
        name="lastName"
        placeholder="Last Name"
        labelClass={labelClass}
        inputClass={inputClasses}
        wrapperClass={wrapperClasses}
      />
    </div>
  </div>

  <!-- Email (required) -->
  <TextInput
    label="Email"
    name="email"
    type="email"
    placeholder="Email Address"
    required
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  />

  <!-- Phone -->
  <TextInput
    label="Phone Number"
    name="phone"
    type="tel"
    placeholder="Mobile Number"
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  />

  <!-- Company -->
  <TextInput
    label="Company"
    name="company"
    placeholder="Name of Your Company If you have one"
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  />

  <!-- How Did You Find Us? (required) -->
  <Select
    label="How Did You Find Us?"
    name="howDidYouFindUs"
    options={sourceOptions}
    required
    labelClass={labelClass}
    selectClass={inputClasses}
    wrapperClass={wrapperClasses}
  />

  <!-- Website -->
  <!-- <TextInput
    label="Website"
    name="website"
    type="url"
    placeholder="Your Companies Website"
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  /> -->

  <!-- Subject -->
  <TextInput
    label="Subject"
    name="subject"
    placeholder="Subject"
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  />

  <!-- Your Message (required) -->
  <Textarea
    label="Your Message"
    name="message"
    placeholder="Your Message"
    required
    rows={6}
    labelClass={labelClass}
    inputClass={inputClasses}
    wrapperClass={wrapperClasses}
  />
</Form>
